<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
</head>

<body class="overflow-x-hidden">


<header
    class="p-2 border-solid border-red-300 border-[1px] bg-red-300 font-bold overflow-x-hidden sticky top-0 z-10  w-full">
    <ul class="flex justify-between sm:justify-center items-center px-2 gap-1 overflow-x-hidden">
        <div class="sm:w-1/6 px-3 hidden sm:block">
            <li class="flex items-center space-x-2">
                <a href="/" class="flex items-center space-x-1">
                    <span>Logo</span>
                </a>
                <a href="/">
                    <i class="fa-solid fa-house"></i> 
                </a>
            </li>
        </div>
        <div class="w-[80%] sm:w-1/3 relative flex">
            <input type="search"
                class="w-full border-[1px] border-solid border-slate-600 outline-none rounded-full p-2">
            <i class="fa-solid fa-magnifying-glass absolute right-3 top-[30%]"></i>
        </div>
        <div class="flex justify-end gap-6 w-1/5 sm:w-[49%] me-3">
            <li><a href="/" id="user-icon"><i class="fa-solid fa-user"></i></a></li>
            <li class="hidden sm:block"> <a href="/blog/add-blog">Add Blog</a></li>
            <li class="hidden sm:block "><a href="#">About</a></li>
            <li class="hidden sm:block"> <a href="#">Contact</a></li>
            <li class="block sm:hidden" id="nav-button"><a href="#"><i class="fa-solid fa-bars"></i></a></li>
        </div>
    </ul>
</header>

<div class="overflow-x-hidden">
    <ul class="fixed top-0 -left-full sm:-left-full flex flex-col items-center w-2/3 bg-red-500 h-full z-20 pt-16 gap-y-2 transition-left duration-500 ease-in-out"
        id="toggle_page">
        <li class="text-white font-semibold text-xl block"><a href="#">Logo</a></li>
        <li class="text-white font-semibold text-xl block"><a href="#">Home</a></li>
        <li class="text-white font-semibold text-xl block"><a href="#">Add Blog</a></li>
        <li class="text-white font-semibold text-xl block"><a href="#">About</a></li>
        <li class="text-white font-semibold text-xl block"><a href="#">Contact</a></li>
    </ul>
</div>

<div class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center overflow-x-hidden" id="user-modal">
    <div class="bg-white p-6 rounded-lg w-11/12 sm:w-2/3 lg:w-1/3 relative h-72 flex flex-col justify-center">
        <a class="absolute top-2 right-2 text-black text-lg font-bold cursor-pointer" id="close-modal" >&times;</a>
        <h2 class="text-2xl font-bold mb-4 p-2">Welcome <a href="/user/user-details?username=<%=cookies.user_name %>" class="text-blue-600"><%= cookies.user_name%></a> </h2>
        <div class="flex gap-x-3">
            <% if (typeof cookies.user_id==='undefined' || !cookies.user_id) { %>
                <a href="/user/login" id="login-button"
                    class="w-1/3 bg-red-500 text-white p-2 px-4 rounded-md text-center">Login</a>
                <a href="/user/signup" id="signup-button"
                    class="w-1/3 bg-blue-500 text-white p-2 px-4 rounded-md text-center">Signup</a>
                <% } else { %>
                    <a href="/user/dashboard" id="login-button"
                        class="w-1/3 bg-red-500 text-white p-2 px-4 rounded-md text-center">Dashboard</a>
                    <a href="/user/logout" id="signup-button"
                        class="w-1/3 bg-blue-500 text-white p-2 px-4 rounded-md text-center">Logout</a>
                    <% } %>
        </div>
    </div>
</div>

<script>
    let toggle_button=document.getElementById('nav-button');
    let toggle_page=document.getElementById('toggle_page');
    toggle_button.addEventListener('click',(event)=>{
        event.preventDefault();
        if(toggle_page.classList.contains('left-0')){
            toggle_page.classList.add('-left-full');
            toggle_page.classList.remove('left-0');
        }
        else{
            toggle_page.classList.remove('-left-full');
            toggle_page.classList.add('left-0');
        }
    })

        let user_icon = document.getElementById('user-icon');
        let user_modal = document.getElementById('user-modal');
        let close_modal = document.getElementById('close-modal');

        user_icon.addEventListener('click', (event) => {
            event.preventDefault();
            user_modal.classList.remove('hidden');
            user_modal.classList.add('flex');
        });

        close_modal.addEventListener('click', () => {
            user_modal.classList.add('hidden');
            user_modal.classList.remove('flex');
        });

        window.addEventListener('click', (event) => {
            if (event.target == user_modal) {
                user_modal.classList.add('hidden');
                user_modal.classList.remove('flex');
            }
           
        });
</script>

